<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Starbucks POS - Cash Entry</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
          font-family: 'Segoe UI', sans-serif;
          display: flex;
          height: 100vh;
          background-color: #f5f5f5;
        }

        .order-summary {
          width: 300px;
          background: #fff;
          border-right: 1px solid #ccc;
          padding: 20px;
          overflow-y: auto;
        }

        .order-summary h2 {
          margin-bottom: 10px;
          color: #036635;
        }

        .order-item {
          display: flex;
          justify-content: space-between;
          margin: 8px 0;
        }

        .total {
          margin-top: 20px;
          font-size: 18px;
          font-weight: bold;
        }

        .main {
          flex: 1;
          display: flex;
          flex-direction: column;
          position: relative;
        }

        .menu-section {
          flex: 1;
          display: none;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 15px;
          padding: 20px;
          overflow-y: auto;
        }

        .menu-section.active {
          display: grid;
        }

        .item {
          background: white;
          padding: 15px;
          border-radius: 10px;
          text-align: center;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          cursor: pointer;
        }

        .item:hover {
          background: #e5fff1;
        }

        .bottom-nav {
          position: absolute;
          bottom: 0;
          width: 100%;
          background: #036635;
          display: flex;
        }

        .bottom-nav button {
          flex: 1;
          padding: 15px;
          border: none;
          background: transparent;
          color: white;
          font-size: 16px;
          cursor: pointer;
        }

        .bottom-nav button.active {
          background: #00a862;
          font-weight: bold;
        }

        .checkout-panel {
          padding: 20px;
        }

        .checkout-panel h3 {
          margin-bottom: 10px;
        }

        .checkout-panel button {
          margin-top: 15px;
          padding: 12px;
          width: 100%;
          background: #00a862;
          color: white;
          font-weight: bold;
          border: none;
          border-radius: 6px;
          font-size: 16px;
          cursor: pointer;
        }

        .summary-line {
          margin: 10px 0;
          font-size: 16px;
        }

        /* Custom Number Pad Modal */
        .modal {
          display: none;
          position: fixed;
          top: 0; left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0,0,0,0.5);
          justify-content: center;
          align-items: center;
        }

        .modal-content {
          background: white;
          padding: 20px;
          border-radius: 10px;
          text-align: center;
          width: 300px;
        }

        .display {
          font-size: 24px;
          margin-bottom: 10px;
          padding: 10px;
          background: #eee;
          border-radius: 5px;
        }

        .pad {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 10px;
          margin-bottom: 10px;
        }

        .pad button {
          padding: 15px;
          font-size: 18px;
          background: #f0f0f0;
          border: none;
          border-radius: 5px;
          cursor: pointer;
        }

        .pad button:hover {
          background: #d0f0d0;
        }
    </style>
</head>
<body>

<!-- Left: Order Summary -->
<div class="order-summary">
    <h2>Order Summary</h2>
    <div id="cart-items"></div>
    <div class="total">Total: $<span id="total">0.00</span></div>
</div>

<!-- Main Content -->
<div class="main">

    <!-- Drinks Section -->
    <div id="drinks" class="menu-section active">
        <div class="item" onclick="addToCart('Latte', 4.5)">Latte<br>$4.50</div>
        <div class="item" onclick="addToCart('Espresso', 3)">Espresso<br>$3.00</div>
        <div class="item" onclick="addToCart('Frappuccino', 5)">Frappuccino<br>$5.00</div>
        <div class="item" onclick="addToCart('Mocha', 4.75)">Mocha<br>$4.75</div>
    </div>

    <!-- Food Section -->
    <div id="food" class="menu-section">
        <div class="item" onclick="addToCart('Croissant', 3.5)">Croissant<br>$3.50</div>
        <div class="item" onclick="addToCart('Bagel', 2.5)">Bagel<br>$2.50</div>
        <div class="item" onclick="addToCart('Muffin', 3)">Muffin<br>$3.00</div>
        <div class="item" onclick="addToCart('Sandwich', 4.5)">Sandwich<br>$4.50</div>
    </div>

    <!-- Checkout Section -->
    <div id="checkout" class="menu-section">
        <div class="checkout-panel">
            <h3>Cash Payment</h3>
            <button onclick="showPad()">Enter Cash</button>
            <div class="summary-line">Total: $<span id="checkout-total">0.00</span></div>
            <div class="summary-line" id="change-info"></div>
            <button onclick="completePayment()">Complete Payment</button>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <button class="tab-btn active" data-tab="drinks">Drinks</button>
        <button class="tab-btn" data-tab="food">Food</button>
        <button class="tab-btn" data-tab="checkout">Checkout</button>
    </div>

</div>

<!-- Number Pad Modal -->
<div class="modal" id="numpad-modal">
    <div class="modal-content">
        <div class="display" id="numpad-display">0</div>
        <div class="pad">
            <button onclick="padInput('1')">1</button>
            <button onclick="padInput('2')">2</button>
            <button onclick="padInput('3')">3</button>
            <button onclick="padInput('4')">4</button>
            <button onclick="padInput('5')">5</button>
            <button onclick="padInput('6')">6</button>
            <button onclick="padInput('7')">7</button>
            <button onclick="padInput('8')">8</button>
            <button onclick="padInput('9')">9</button>
            <button onclick="padInput('.')">.</button>
            <button onclick="padInput('0')">0</button>
            <button onclick="backspace()">←</button>
        </div>
        <div class="pad">
            <button onclick="clearPad()">Clear</button>
            <button onclick="confirmPad()">OK</button>
        </div>
    </div>
</div>

<script>
    const tabBtns = document.querySelectorAll('.tab-btn');
    const sections = document.querySelectorAll('.menu-section');
    const cartItemsDiv = document.getElementById('cart-items');
    const totalSpan = document.getElementById('total');
    const checkoutTotalSpan = document.getElementById('checkout-total');
    const changeInfo = document.getElementById('change-info');
    const modal = document.getElementById('numpad-modal');
    const display = document.getElementById('numpad-display');

    let cart = {};
    let cashInput = 0;

    tabBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        tabBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        sections.forEach(sec => sec.classList.remove('active'));
        const tab = document.getElementById(btn.dataset.tab);
        tab.classList.add('active');
        calculateSplit();
      });
    });

    function addToCart(name, price) {
      if (cart[name]) {
        cart[name].quantity++;
      } else {
        cart[name] = { price, quantity: 1 };
      }
      updateCart();
    }

    function updateCart() {
      cartItemsDiv.innerHTML = '';
      let total = 0;
      for (let item in cart) {
        const { price, quantity } = cart[item];
        total += price * quantity;
        const div = document.createElement('div');
        div.className = 'order-item';
        div.innerHTML = `<span>${item} ×${quantity}</span><span>$${(price * quantity).toFixed(2)}</span>`;
        cartItemsDiv.appendChild(div);
      }
      totalSpan.innerText = total.toFixed(2);
      checkoutTotalSpan.innerText = total.toFixed(2);
      calculateSplit();
    }

    function calculateSplit() {
      const total = parseFloat(checkoutTotalSpan.innerText);
      let message = '';
      if (cashInput >= total) {
        message = `Change: $${(cashInput - total).toFixed(2)}`;
      } else {
        message = `Remaining to pay with card: $${(total - cashInput).toFixed(2)}`;
      }
      changeInfo.innerText = message;
    }

    function completePayment() {
      const total = parseFloat(checkoutTotalSpan.innerText);
      if (total === 0) {
        alert("Cart is empty.");
        return;
      }
      let message = '';
      if (cashInput >= total) {
        message = `Paid in cash. Change: $${(cashInput - total).toFixed(2)}`;
      } else {
        message = `Paid $${cashInput.toFixed(2)} in cash, $${(total - cashInput).toFixed(2)} with card.`;
      }
      alert(`Payment successful!\n${message}`);
      cart = {};
      cashInput = 0;
      display.textContent = "0";
      changeInfo.innerText = '';
      updateCart();
    }

    // Number Pad Functions
    function showPad() {
      modal.style.display = 'flex';
    }

    function padInput(num) {
      if (display.textContent === '0') display.textContent = '';
      display.textContent += num;
    }

    function backspace() {
      display.textContent = display.textContent.slice(0, -1) || '0';
    }

    function clearPad() {
      display.textContent = '0';
    }

    function confirmPad() {
      cashInput = parseFloat(display.textContent) || 0;
      modal.style.display = 'none';
      calculateSplit();
    }

    // Close modal when clicking outside
    window.onclick = function(e) {
      if (e.target === modal) modal.style.display = "none";
    }
</script>

</body>
</html>
